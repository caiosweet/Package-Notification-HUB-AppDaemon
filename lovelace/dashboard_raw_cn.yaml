views:
  - title: Centro Notifiche
    path: centro-notifiche
    icon: mdi:account-voice
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: markdown
            content: >
              <font size=5><center>ðŸ¤µ
              {{states('sensor.notifier_config')}}</center></font>

              {% if not states('sensor.notifier_debug_error') in ['on','OK']%}

              <ha-alert title="Centro Notifiche" alert-type="error">

              {{states('sensor.notifier_debug_error')}}

              </ha-alert>

              {% endif %}
          - type: grid
            columns: 10
            square: true
            cards:
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: binary_sensor.notifier_people_home
                tap_action:
                  action: more-info
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: group.notifier_location_tracker
                tap_action:
                  action: more-info
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: input_boolean.notifier_phone_notifications
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: input_boolean.notifier_speech_notifications
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: input_boolean.notifier_text_notifications
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: input_boolean.notifier_screen_notifications
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: input_boolean.notifier_guest_mode
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: input_boolean.notifier_priority_message
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: input_boolean.notifier_holidays
              - show_name: false
                show_icon: true
                type: button
                show_state: false
                entity: binary_sensor.notifier_dnd
                tap_action:
                  action: more-info
          - show_name: true
            show_icon: false
            show_state: true
            type: glance
            columns: 3
            entities:
              - entity: sensor.notifier_day_period
              - entity: sensor.notifier_day_period_volume
              - entity: input_select.notifier_language
              - entity: select.notifier_player_alexa
                tap_action:
                  action: call-service
                  service: select.select_next
                  target:
                    entity_id: select.notifier_player_alexa
                  data:
                    cycle: true
              - entity: input_select.notifier_alexa_type
                name: ''
                tap_action:
                  action: call-service
                  service: input_select.select_next
                  service_data:
                    entity_id: input_select.notifier_alexa_type
              - entity: input_boolean.notifier_alexa_ssml
                tap_action:
                  action: toggle
            state_color: true
          - show_name: true
            show_icon: false
            show_state: true
            type: glance
            columns: 3
            entities:
              - entity: select.notifier_player_google
                tap_action:
                  action: call-service
                  service: select.select_next
                  target:
                    entity_id: select.notifier_player_google
                  data:
                    cycle: true
          - show_name: true
            show_icon: false
            show_state: true
            type: glance
            columns: 1
            entities:
              - entity: select.notifier_text_notify
                tap_action:
                  action: call-service
                  service: select.select_next
                  target:
                    entity_id: select.notifier_text_notify
                  data:
                    cycle: true
          - type: horizontal-stack
            cards:
              - type: entity-filter
                show_empty: false
                entities:
                  - input_boolean.notifier_google_switch
                state_filter:
                  - operator: in
                    value:
                      - 'on'
                      - 'off'
                card:
                  type: button
                  state_color: true
                  show_name: false
                  icon_height: 24px
                  entity: input_boolean.notifier_google_switch
                  tap_action:
                    action: toggle
              - type: entity-filter
                show_empty: false
                entities:
                  - input_select.notifier_tts_notify
                state_filter:
                  - operator: '!='
                    value: ''
                card:
                  type: button
                  state_color: true
                  show_name: false
                  show_icon: false
                  show_state: true
                  entity: input_select.notifier_tts_notify
                  tap_action:
                    action: call-service
                    service: input_select.select_next
                    service_data:
                      entity_id: input_select.notifier_tts_notify
              - show_name: false
                show_icon: true
                type: button
                icon_height: 24px
                entity: input_boolean.notifier_alexa_switch
                tap_action:
                  action: toggle
                icon: mdi:dots-circle
              - show_name: false
                show_icon: false
                type: button
                show_state: true
                entity: input_select.notifier_alexa_type
                tap_action:
                  action: call-service
                  service: input_select.select_next
                  service_data:
                    entity_id: input_select.notifier_alexa_type
              - type: button
                state_color: true
                show_name: false
                icon_height: 24px
                entity: input_boolean.notifier_alexa_ssml
                tap_action:
                  action: toggle
              - type: button
                state_color: true
                show_name: false
                icon_height: 24px
                entity: button.notifier_last_message
                tap_action:
                  action: toggle
          - type: entities
            show_header_toggle: false
            state_color: true
            entities:
              - entity: input_text.notifier_intercom_message
              - entity: input_number.notifier_intercom_volume
              - entity: button.notifier_last_message
      - type: entities
        entities:
          - entity: automation.notifier_startup_configuration
          - entity: group.notifier_group_notification
          - entity: sensor.notifier_config
          - entity: binary_sensor.workday_sensor
          - type: buttons
            entities:
              - entity: sensor.notifier_config
                name: Restart Notifier App
                tap_action:
                  action: call-service
                  confirmation:
                    text: Sei sicuro di voler riavviare l'App Notifier?
                  service: script.my_notify
                  service_data:
                    ad:
                      command: restart
        state_color: true
      - type: entities
        title: Alexa
        show_header_toggle: false
        state_color: true
        entities:
          - type: section
            label: ''
          - entity: input_boolean.notifier_alexa_switch
          - entity: select.notifier_player_alexa
          - entity: input_select.notifier_alexa_type
          - entity: input_select.notifier_alexa_method
          - entity: input_boolean.notifier_alexa_smart_volume
          - entity: binary_sensor.notifier_alexa_speak
          - type: section
            label: SSML
          - entity: input_boolean.notifier_alexa_ssml
          - entity: input_select.notifier_alexa_voice
          - entity: input_select.notifier_alexa_language
          - entity: input_number.notifier_alexa_prosody_rate
          - entity: input_number.notifier_alexa_prosody_pitch
          - entity: input_number.notifier_alexa_prosody_volume
          - entity: button.notifier_ssml_reset
          - type: section
            label: Info
          - entity: sensor.notifier_player_alexa
          - type: attribute
            entity: sensor.notifier_player_alexa
            attribute: selected
          - type: attribute
            name: Entities list
            entity: sensor.notifier_player_alexa
            attribute: entities
          - entity: group.notifier_player_alexa
          - type: attribute
            entity: group.notifier_player_alexa
            attribute: entity_id
            name: Players
      - type: entities
        title: Impostazioni Assistente
        show_header_toggle: false
        state_color: true
        entities:
          - entity: automation.notifier_startup_configuration
          - entity: sensor.notifier_config
          - entity: sensor.notifier_debug_error
          - entity: input_button.notifier_reset_config
          - type: section
            label: ''
          - entity: input_select.notifier_language
          - entity: select.notifier_text_notify
            secondary_info: none
          - entity: sensor.notifier_text_notify
          - entity: input_boolean.notifier_html_mode
          - entity: input_boolean.notifier_tts_clock
          - entity: input_boolean.notifier_wrap_text
          - entity: input_number.notifier_tts_wait_time
          - type: section
            label: FERIALI - Orario modo silenzioso
          - entity: input_datetime.notifier_start_weekdays
          - entity: input_datetime.notifier_end_weekdays
          - type: section
            label: FESTIVI - Orario modo silenzioso
          - entity: input_datetime.notifier_start_holidays
          - entity: input_datetime.notifier_end_holidays
          - type: section
            label: VOLUME di default durante il griorno
          - entity: group.notifier_group_volumes
          - entity: input_datetime.notifier_start_early_morning
          - entity: input_number.notifier_early_morning_volume
          - entity: input_datetime.notifier_start_morning
          - entity: input_number.notifier_morning_volume
          - entity: input_datetime.notifier_start_afternoon
          - entity: input_number.notifier_afternoon_volume
          - entity: input_datetime.notifier_start_evening
          - entity: input_number.notifier_evening_volume
          - entity: input_datetime.notifier_start_night
          - entity: input_number.notifier_night_volume
          - entity: input_datetime.notifier_start_late_night
          - entity: input_number.notifier_late_night_volume
      - type: entities
        title: Automazioni
        show_header_toggle: false
        state_color: true
        entities:
          - type: section
            label: ''
          - entity: group.notifier_automations
      - type: entities
        title: Centro Notifiche
        show_header_toggle: false
        state_color: true
        entities:
          - type: section
            label: Monitor
          - entity: binary_sensor.notifier_people_home
          - entity: group.notifier_location_tracker
          - entity: sensor.notifier_day_period
          - entity: sensor.notifier_day_period_volume
          - entity: binary_sensor.notifier_dnd
          - entity: button.notifier_last_message
          - type: section
            label: ModalitÃ 
          - entity: input_boolean.notifier_holidays
          - entity: input_boolean.notifier_guest_mode
          - entity: input_boolean.notifier_priority_message
          - entity: input_boolean.notifier_phone_notifications
          - entity: input_boolean.notifier_speech_notifications
          - entity: input_boolean.notifier_text_notifications
          - entity: input_boolean.notifier_screen_notifications
          - type: section
            label: Interfono
          - entity: input_number.notifier_intercom_volume
          - entity: input_text.notifier_intercom_message
      - type: entities
        title: Google
        show_header_toggle: false
        state_color: true
        entities:
          - type: section
            label: ''
          - entity: input_boolean.notifier_google_switch
          - entity: select.notifier_player_google
          - entity: input_select.notifier_tts_notify
          - type: section
            label: Info
          - entity: sensor.notifier_player_google
          - type: attribute
            name: Selected
            entity: sensor.notifier_player_google
            attribute: selected
          - type: attribute
            name: Entities list
            entity: sensor.notifier_player_google
            attribute: entities
          - entity: group.notifier_player_google
          - type: attribute
            entity: group.notifier_player_google
            attribute: entity_id
      - type: entities
        title: VoIP
        show_header_toggle: false
        state_color: true
        entities:
          - type: section
            label: ''
          - entity: input_boolean.notifier_phone_notifications
          - entity: input_text.notifier_called_number
          - entity: input_select.notifier_phone_notify
      - type: tile
        entity: input_number.notifier_morning_volume
        vertical: false
        tap_action:
          action: call-service
          service: input_number.increment
          target:
            entity_id: input_number.notifier_morning_volume
          data: {}
        icon_tap_action:
          action: call-service
          service: input_number.decrement
          target:
            entity_id: input_number.notifier_morning_volume
          data: {}
        color: accent
      - square: false
        type: grid
        cards:
          - type: tile
            entity: input_datetime.notifier_start_weekdays
          - type: tile
            entity: input_datetime.notifier_end_weekdays
          - type: tile
            entity: input_datetime.notifier_start_holidays
          - type: tile
            entity: input_datetime.notifier_end_holidays
          - type: markdown
            content: <center>Periodo del Giorno
          - type: markdown
            content: <center> Volumi
          - type: tile
            entity: input_datetime.notifier_start_early_morning
            name: Prima Mattina
          - type: tile
            entity: input_number.notifier_early_morning_volume
          - type: tile
            entity: input_datetime.notifier_start_morning
            name: Mattina
          - type: tile
            entity: input_number.notifier_morning_volume
          - type: tile
            entity: input_datetime.notifier_start_afternoon
            name: Pomeriggio
          - type: tile
            entity: input_number.notifier_afternoon_volume
          - type: tile
            entity: input_datetime.notifier_start_evening
            name: Sera
          - type: tile
            entity: input_number.notifier_evening_volume
          - type: tile
            entity: input_datetime.notifier_start_night
            name: Notte
          - type: tile
            entity: input_number.notifier_night_volume
          - type: tile
            entity: input_datetime.notifier_start_late_night
            name: Notte fonda
          - type: tile
            entity: input_number.notifier_late_night_volume
        columns: 2
      - type: tile
        entity: sensor.notifier_config
        vertical: false
        color: accent

type: vertical-stack
cards:
  - type: markdown
    content: >
      <font size=5><center>ðŸ¤µ
      {{states('sensor.notifier_config')}}</center></font>

      {% if states('sensor.notifier_debug_error') not in ['on','OK']%}

      <ha-alert title="Centro Notifiche" alert-type="error">

      {{states('sensor.notifier_debug_error')}}

      </ha-alert>

      {% endif %}
  - square: true
    type: grid
    columns: 8
    cards:
      - show_name: false
        show_icon: true
        type: button
        show_state: false
        entity: group.notifier_group_notification
        icon: ''
      - show_name: false
        show_icon: true
        type: button
        show_state: false
        entity: input_boolean.notifier_speech_notifications
      - show_name: false
        show_icon: true
        type: button
        show_state: false
        entity: input_boolean.notifier_text_notifications
      - show_name: false
        show_icon: true
        type: button
        show_state: false
        entity: input_boolean.notifier_screen_notifications
      - show_name: false
        show_icon: true
        type: button
        show_state: false
        entity: input_boolean.notifier_phone_notifications
      - show_name: false
        show_icon: true
        type: button
        show_state: false
        entity: input_boolean.notifier_guest_mode
      - show_name: false
        show_icon: true
        type: button
        show_state: false
        entity: input_boolean.notifier_priority_message
      - show_name: false
        show_icon: true
        type: button
        show_state: false
        entity: input_boolean.notifier_holidays
  - square: true
    type: grid
    columns: 5
    cards:
      - show_name: false
        show_icon: true
        type: button
        show_state: true
        entity: binary_sensor.notifier_dnd
        tap_action:
          action: more-info
      - show_name: false
        show_icon: true
        type: button
        show_state: true
        entity: binary_sensor.notifier_people_home
        tap_action:
          action: more-info
      - show_name: false
        show_icon: true
        type: button
        show_state: true
        entity: group.notifier_location_tracker
        tap_action:
          action: more-info
      - show_name: false
        show_icon: true
        icon: ''
        type: button
        show_state: true
        tap_action:
          action: more-info
        entity: sensor.notifier_config
      - show_name: false
        show_icon: true
        icon: mdi:account-wrench
        type: button
        show_state: true
        tap_action:
          action: more-info
        entity: sensor.notifier_debug_error
  - type: glance
    columns: 3
    show_icon: false
    entities:
      - entity: sensor.notifier_day_period
      - entity: sensor.notifier_day_period_volume
      - entity: input_select.notifier_language
  - type: entities
    entities:
      - type: conditional
        conditions:
          - entity: sensor.notifier_text_notify
            state_not: unavailable
        row:
          entity: sensor.notifier_text_notify
          type: attribute
          attribute: selected
          tap_action:
            action: call-service
            service: select.select_next
            target:
              entity_id: select.notifier_text_notify
            data:
              cycle: true
          double_tap_action:
            action: call-service
            service: select.select_first
            target:
              entity_id: select.notifier_text_notify
          hold_action:
            action: more-info
      - type: conditional
        conditions:
          - entity: sensor.notifier_player_alexa
            state_not: unavailable
        row:
          entity: sensor.notifier_player_alexa
          type: attribute
          attribute: selected
          tap_action:
            action: call-service
            service: select.select_next
            target:
              entity_id: select.notifier_player_alexa
            data:
              cycle: true
          double_tap_action:
            action: call-service
            service: select.select_first
            target:
              entity_id: select.notifier_player_alexa
          hold_action:
            action: more-info
      - type: conditional
        conditions:
          - entity: sensor.notifier_player_google
            state_not: unavailable
        row:
          entity: sensor.notifier_player_google
          type: attribute
          attribute: selected
          tap_action:
            action: call-service
            service: select.select_next
            target:
              entity_id: select.notifier_player_google
            data:
              cycle: true
          double_tap_action:
            action: call-service
            service: select.select_first
            target:
              entity_id: select.notifier_player_google
          hold_action:
            action: more-info
  - type: horizontal-stack
    cards:
      - type: conditional
        conditions:
          - entity: input_boolean.notifier_google_switch
            state_not: unavailable
        card:
          type: button
          show_name: false
          show_icon: true
          icon_height: 24px
          entity: input_boolean.notifier_google_switch
          tap_action:
            action: toggle
      - type: conditional
        conditions:
          - entity: input_boolean.notifier_google_switch
            state_not: unavailable
        card:
          type: button
          show_name: false
          show_icon: false
          show_state: true
          entity: input_select.notifier_tts_notify
          tap_action:
            action: call-service
            service: input_select.select_next
            service_data:
              entity_id: input_select.notifier_tts_notify
      - type: conditional
        conditions:
          - entity: input_boolean.notifier_alexa_switch
            state_not: unavailable
        card:
          type: button
          show_name: false
          show_icon: true
          icon_height: 24px
          entity: input_boolean.notifier_alexa_switch
          tap_action:
            action: toggle
          icon: mdi:dots-circle
      - type: conditional
        conditions:
          - entity: input_boolean.notifier_alexa_switch
            state_not: unavailable
        card:
          type: button
          show_name: false
          show_icon: false
          show_state: true
          entity: input_select.notifier_alexa_type
          tap_action:
            action: call-service
            service: input_select.select_next
            service_data:
              entity_id: input_select.notifier_alexa_type
      - type: conditional
        conditions:
          - entity: input_boolean.notifier_alexa_switch
            state_not: unavailable
        card:
          type: button
          show_name: false
          icon_height: 24px
          entity: input_boolean.notifier_alexa_ssml
          tap_action:
            action: toggle
      - type: button
        show_name: false
        icon_height: 24px
        entity: button.notifier_last_message
        tap_action:
          action: toggle
  - type: entities
    show_header_toggle: false
    state_color: true
    entities:
      - entity: input_text.notifier_intercom_message
      - entity: input_number.notifier_intercom_volume
